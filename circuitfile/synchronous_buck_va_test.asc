Version 4
SHEET 1 2328 1076
WIRE 0 96 -176 96
WIRE 192 96 192 32
WIRE 192 96 80 96
WIRE 336 96 192 96
WIRE 512 96 368 96
WIRE 640 96 592 96
WIRE 768 96 720 96
WIRE 1040 96 768 96
WIRE 768 128 768 96
WIRE 352 192 352 112
WIRE -176 208 -176 96
WIRE 80 208 80 160
WIRE 1040 224 1040 96
WIRE 192 240 192 96
WIRE 768 304 768 272
WIRE 128 320 64 320
WIRE -176 416 -176 288
WIRE 192 416 192 320
WIRE 192 416 -176 416
WIRE 768 416 768 384
WIRE 768 416 192 416
WIRE 1040 416 1040 304
WIRE 1040 416 768 416
WIRE -176 448 -176 416
WIRE 1120 576 1040 576
WIRE 864 592 784 592
WIRE 1120 608 1040 608
WIRE 864 624 832 624
WIRE 1120 640 1040 640
WIRE -144 672 -144 640
WIRE 832 672 832 624
WIRE 864 672 832 672
WIRE 1120 672 1040 672
WIRE 832 704 832 672
WIRE 1120 704 1120 672
WIRE -144 832 -144 752
FLAG -176 448 0
FLAG 64 320 gateLS
FLAG 80 208 gateHS
FLAG 352 192 isense
FLAG 192 32 sourceHS
FLAG 1040 96 out
FLAG -176 96 vin
FLAG -144 640 pwm
FLAG 832 704 0
FLAG 1120 576 gateHS
FLAG 1120 608 sourceHS
FLAG 784 592 pwm
FLAG 1120 704 0
FLAG 1120 640 gateLS
FLAG -144 832 0
SYMBOL ind 624 112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {ind}
SYMBOL res 608 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {RL}
SYMBOL cap 752 128 R0
SYMATTR InstName C1
SYMATTR Value {cap1}
SYMBOL res 1024 208 R0
SYMATTR InstName Rload
SYMATTR Value 1.45
SYMBOL voltage -176 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 -245 1 Left 2
SYMATTR InstName V1
SYMATTR Value 48
SYMBOL Control\\isense 352 96 R0
SYMATTR InstName U1
SYMBOL res 752 176 R0
SYMATTR InstName ESR
SYMATTR Value {RC1}
SYMBOL ind 752 288 R0
SYMATTR InstName ESL
SYMATTR Value {LC1}
SYMBOL voltage -144 656 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 15 0 1n 1n {ton} {Ts})
SYMBOL irfbsl4310 256 288 R0
SYMATTR InstName U2
SYMBOL irfbsl4310 48 32 R270
SYMATTR InstName U3
SYMBOL MyDriverHB 976 624 R0
SYMATTR InstName U4
SYMATTR Value2 Tau=75n
TEXT 1312 -152 Left 2 !.options reltol=12m
TEXT 1312 -104 Left 2 !.tran 0 20m 15m 0.1u uic
TEXT 1312 128 Left 2 ;.meas P_s1 avg V(vin,sourceHS)*Ix(U3:D)
TEXT 1312 160 Left 2 ;.meas P_s2 avg V(sourcehs)*Ix(U2:D)
TEXT 1312 104 Left 2 !.param RL=0.0407 RC1=0.0055
TEXT 1312 192 Left 2 !.meas P_L_cu avg I(R1)*I(R1)*RL
TEXT 1312 224 Left 2 !.meas Pout avg V(out)*I(Rload)
TEXT 1312 256 Left 2 !.meas Pin avg -V(vin)*I(V1)
TEXT 1312 288 Left 2 !.meas eff(%) param Pout/Pin*100
TEXT 1312 320 Left 2 !.meas vout avg V(out)
TEXT 1312 352 Left 2 !.meas IL avg I(L1)
TEXT 1312 384 Left 2 !.meas tran vout_max max V(out)
TEXT 1312 416 Left 2 !.meas tran vout_min min V(out)
TEXT 1312 448 Left 2 !.meas vout_ripple(%) param (vout_max-vout_min)/vout*100
TEXT 1312 480 Left 2 !.meas tran IL_max max I(L1)
TEXT 1312 512 Left 2 !.meas tran IL_min min I(L1)
TEXT 1312 544 Left 2 !.meas IL_ripple(%) param (IL_max-IL_min)/IL*100
TEXT 1312 72 Left 2 !.param fs=36.6k
TEXT 1312 48 Left 2 !.param LC1=3.9188e-07 cap1=112u ind=283.1u
TEXT 1312 584 Left 2 !.meas P_c avg I(Esr)*I(Esr)*RC1
TEXT 1312 16 Left 2 !.param ton=0.25*(({RL}+{Ron})/1.45+1)*1/{fs}+180n toff=1*({Ts}-{ton})
TEXT 1312 -16 Left 2 !.param Ts=1/{fs} Ron=1e-7
TEXT 472 912 Left 2 ;PULSE(0 15 {ton} 1n 1n {toff} {Ts})
