Version 4
SHEET 1 2328 1076
WIRE 0 96 -176 96
WIRE 192 96 192 32
WIRE 192 96 80 96
WIRE 336 96 192 96
WIRE 512 96 368 96
WIRE 640 96 592 96
WIRE 768 96 720 96
WIRE 1040 96 768 96
WIRE 1216 96 1040 96
WIRE 768 128 768 96
WIRE 352 192 352 112
WIRE -176 208 -176 96
WIRE 768 208 768 192
WIRE 80 224 80 160
WIRE 80 224 0 224
WIRE 1040 224 1040 96
WIRE 192 240 192 96
WIRE 768 304 768 288
WIRE 128 320 16 320
WIRE 144 320 128 320
WIRE -176 416 -176 288
WIRE 192 416 192 320
WIRE 192 416 -176 416
WIRE 768 416 768 384
WIRE 768 416 192 416
WIRE 1040 416 1040 304
WIRE 1040 416 768 416
WIRE -176 448 -176 416
WIRE 96 656 16 656
WIRE 416 656 304 656
WIRE 1024 656 928 656
WIRE 752 672 656 672
WIRE -32 688 -96 688
WIRE 96 688 -32 688
WIRE 416 688 304 688
WIRE 1024 688 928 688
WIRE 752 704 656 704
WIRE -32 720 -80 720
WIRE 96 720 -32 720
WIRE 416 720 304 720
WIRE 656 720 656 704
WIRE 1024 720 928 720
WIRE 96 752 48 752
WIRE 416 752 304 752
WIRE 752 752 656 752
WIRE 1024 752 928 752
WIRE 656 768 656 752
WIRE 1024 768 1024 752
WIRE 416 784 416 752
WIRE -384 800 -464 800
WIRE -240 800 -304 800
WIRE -80 800 -80 720
WIRE -80 800 -240 800
WIRE -240 864 -240 800
WIRE -176 864 -240 864
WIRE -16 864 -96 864
WIRE 48 864 48 752
WIRE -464 1072 -464 800
WIRE 1216 1072 1216 96
WIRE 1216 1072 -464 1072
FLAG -176 448 0
FLAG 16 320 gateLS
FLAG 0 224 gateHS
FLAG 352 192 isense
FLAG 192 32 sourceHS
FLAG 1040 96 out
FLAG 16 656 isense
FLAG 416 656 isensa
FLAG 416 688 clk
FLAG 416 720 pwm
FLAG 416 784 0
FLAG 656 768 0
FLAG 656 672 pwm
FLAG 1024 768 0
FLAG 1024 656 gateHS
FLAG 1024 720 gateLS
FLAG 1024 688 sourceHS
FLAG 656 720 0
FLAG -176 96 vin
FLAG -32 688 n_inv
FLAG -32 720 inv
FLAG 48 752 comp
SYMBOL ind 624 112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {ind}
SYMBOL res 608 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {RL}
SYMBOL cap 752 128 R0
SYMATTR InstName C1
SYMATTR Value {cap1}
SYMBOL res 1024 208 R0
SYMATTR InstName Rload
SYMATTR Value 1.45
SYMBOL voltage -176 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 -245 1 Left 2
SYMATTR InstName V1
SYMATTR Value 48
SYMBOL res -80 848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 16k
SYMBOL cap 48 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10n
SYMBOL res -288 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 16k
SYMBOL MyCMC 176 752 R0
WINDOW 3 -68 70 Left 2
WINDOW 123 -68 42 Left 2
SYMATTR Value f={fs} Vcc=15
SYMATTR Value2 ma=4.167*{RL}/{ind}+6/{ind}
SYMATTR InstName U2
SYMBOL MyDriverHB 864 704 R0
SYMATTR InstName U3
SYMATTR Value2 Tau=75n
SYMBOL Control\\isense 352 96 R0
SYMATTR InstName U1
SYMBOL Control\\constant -128 688 R0
WINDOW 3 -4 64 Bottom 2
SYMATTR Value K=12
SYMATTR InstName U4
SYMBOL irfbsl4310 256 288 R0
WINDOW 3 -158 78 Top 2
SYMATTR InstName U5
SYMBOL irfbsl4310 48 32 R270
WINDOW 3 -4 -4 VBottom 2
SYMATTR InstName U6
SYMBOL ind 752 288 R0
SYMATTR InstName ESL
SYMATTR Value {LC1}
SYMBOL res 752 192 R0
SYMATTR InstName ESR
SYMATTR Value {RC1}
TEXT -176 520 Left 2 !.options reltol=12m
TEXT -176 568 Left 2 !.tran 0 20m 10m uic
TEXT 1312 128 Left 2 ;.meas P_s1 avg V(vin,sourceHS)*Ix(U6:D)
TEXT 1312 160 Left 2 ;.meas P_s2 avg V(sourcehs)*Ix(U5:D)
TEXT 1312 80 Left 2 !.param ind=0.002 RL=0.12077301606043182
TEXT 1312 192 Left 2 !.meas P_L_cu avg I(R1)*I(R1)*RL
TEXT 1312 224 Left 2 !.meas Pout avg V(out)*I(Rload)
TEXT 1312 256 Left 2 !.meas Pin avg -V(vin)*I(V1)
TEXT 1312 288 Left 2 !.meas eff(%) param Pout/Pin*100
TEXT 1312 320 Left 2 !.meas vout avg V(out)
TEXT 1312 352 Left 2 !.meas IL avg I(L1)
TEXT 1312 384 Left 2 !.meas tran vout_max max V(out)
TEXT 1312 416 Left 2 !.meas tran vout_min min V(out)
TEXT 1312 448 Left 2 !.meas vout_ripple(%) param (vout_max-vout_min)/vout*100
TEXT 1312 480 Left 2 !.meas tran IL_max max I(L1)
TEXT 1312 512 Left 2 !.meas tran IL_min min I(L1)
TEXT 1312 544 Left 2 !.meas IL_ripple(%) param (IL_max-IL_min)/IL*100
TEXT 1312 24 Left 2 !.param fs=200000.0
TEXT 1312 48 Left 2 !.param cap1=0.001 RC1=0.00011140846016432676 LC1=4.389e-08
TEXT 1312 584 Left 2 !.meas P_c avg I(Esr)*I(Esr)*RC1
TEXT 112 880 Left 2 ;ma=4.167*{RL}/{ind}+6/{ind}
