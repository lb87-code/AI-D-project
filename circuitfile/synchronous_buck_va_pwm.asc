Version 4
SHEET 1 2328 1076
WIRE 0 96 -176 96
WIRE 192 96 192 32
WIRE 192 96 80 96
WIRE 512 96 192 96
WIRE 640 96 592 96
WIRE 768 96 720 96
WIRE 1040 96 768 96
WIRE 1216 96 1040 96
WIRE 768 128 768 96
WIRE 1216 144 1216 96
WIRE -176 208 -176 96
WIRE 80 208 80 160
WIRE 1040 224 1040 96
WIRE 192 240 192 96
WIRE 1216 256 1216 224
WIRE 1296 256 1216 256
WIRE 1216 288 1216 256
WIRE 768 304 768 272
WIRE 128 320 64 320
WIRE -176 416 -176 288
WIRE 192 416 192 320
WIRE 192 416 -176 416
WIRE 768 416 768 384
WIRE 768 416 192 416
WIRE 1040 416 1040 304
WIRE 1040 416 768 416
WIRE 1216 416 1216 368
WIRE -176 448 -176 416
WIRE 256 592 -160 592
WIRE 0 656 -288 656
WIRE 256 656 256 592
WIRE 256 656 208 656
WIRE 1024 656 928 656
WIRE 752 672 656 672
WIRE -288 688 -288 656
WIRE 0 688 -80 688
WIRE 1024 688 928 688
WIRE -160 704 -160 592
WIRE 336 704 208 704
WIRE 752 704 656 704
WIRE 0 720 -64 720
WIRE 656 720 656 704
WIRE 1024 720 928 720
WIRE 0 752 -32 752
WIRE 336 752 208 752
WIRE 752 752 656 752
WIRE 1024 752 928 752
WIRE 656 768 656 752
WIRE 1024 768 1024 752
WIRE -32 784 -32 752
WIRE 0 784 -32 784
WIRE -288 800 -288 768
WIRE 288 800 208 800
WIRE -160 816 -160 784
WIRE -112 816 -160 816
WIRE -80 816 -80 688
WIRE -80 816 -112 816
WIRE -32 816 -32 784
WIRE 0 816 -32 816
WIRE -32 848 -32 816
WIRE 0 848 -32 848
WIRE 272 848 208 848
WIRE -160 864 -160 816
WIRE 272 880 272 848
WIRE -32 944 -32 848
WIRE -160 960 -160 944
WIRE 272 976 272 960
WIRE 272 1056 272 1040
WIRE -64 1072 -64 720
WIRE 1296 1072 1296 256
WIRE 1296 1072 -64 1072
FLAG -176 448 0
FLAG -16 320 gateLS
FLAG 0 208 gateHS
FLAG 192 32 sourceHS
FLAG 1040 96 out
FLAG 656 768 0
FLAG 656 672 pwm
FLAG 1024 768 0
FLAG 1024 656 gateHS
FLAG 1024 720 gateLS
FLAG 1024 688 sourceHS
FLAG 656 720 0
FLAG -176 96 vin
FLAG -112 816 duty
FLAG 256 592 REF
FLAG -288 800 0
FLAG -160 960 0
FLAG -32 944 0
FLAG 272 1056 0
FLAG 336 752 sourceHS
FLAG 288 800 sw
FLAG 1216 416 0
FLAG 336 704 pwm
SYMBOL ind 624 112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {ind}
SYMBOL res 608 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {RL}
SYMBOL cap 752 128 R0
SYMATTR InstName C1
SYMATTR Value {cap1}
SYMBOL res 1024 208 R0
SYMATTR InstName Rload
SYMATTR Value 1.45
SYMBOL voltage -176 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 -245 1 Left 2
SYMATTR InstName V1
SYMATTR Value 48
SYMBOL MyDriverHB 864 704 R0
SYMATTR InstName U3
SYMATTR Value2 Tau=75n
SYMBOL irfbsl4310 256 288 R0
WINDOW 3 -138 56 Top 2
SYMATTR InstName U5
SYMBOL irfbsl4310 48 32 R270
WINDOW 3 -4 -4 VBottom 2
SYMATTR InstName U6
SYMBOL res 752 176 R0
SYMATTR InstName ESR
SYMATTR Value {RC1}
SYMBOL ind 752 288 R0
SYMATTR InstName ESL
SYMATTR Value {LC1}
SYMBOL voltage -288 672 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL res -176 688 R0
SYMATTR InstName R2
SYMATTR Value 30k
SYMBOL res -176 848 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 1200 128 R0
SYMATTR InstName R4
SYMATTR Value 10K
SYMBOL res 1200 272 R0
SYMATTR InstName R5
SYMATTR Value 10K
SYMBOL res 256 864 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL cap 256 976 R0
SYMATTR InstName C2
SYMATTR Value 33n
SYMBOL MyPWMC 80 752 R0
SYMATTR InstName U1
SYMATTR Value f={fs}
SYMBOL res 80 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10
SYMBOL res 96 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10
TEXT -176 -112 Left 2 !.options reltol=12m
TEXT -176 -64 Left 2 !.tran 0 10m 0 0.1u uic
TEXT 1312 128 Left 2 ;.meas P_s1 avg V(vin,sourceHS)*Ix(U6:D)
TEXT 1312 160 Left 2 ;.meas P_s2 avg V(sourcehs)*Ix(U5:D)
TEXT 1312 104 Left 2 !.param RL=0.0005 RC1=1.995e-7
TEXT 1312 192 Left 2 !.meas P_L_cu avg I(R1)*I(R1)*RL
TEXT 1312 224 Left 2 !.meas Pout avg V(out)*I(Rload)
TEXT 1312 256 Left 2 !.meas Pin avg -V(vin)*I(V1)
TEXT 1312 288 Left 2 !.meas eff(%) param Pout/Pin*100
TEXT 1312 320 Left 2 !.meas vout avg V(out)
TEXT 1312 352 Left 2 !.meas IL avg I(L1)
TEXT 1312 384 Left 2 !.meas tran vout_max max V(out)
TEXT 1312 416 Left 2 !.meas tran vout_min min V(out)
TEXT 1312 448 Left 2 !.meas vout_ripple(%) param (vout_max-vout_min)/vout*100
TEXT 1312 480 Left 2 !.meas tran IL_max max I(L1)
TEXT 1312 512 Left 2 !.meas tran IL_min min I(L1)
TEXT 1312 544 Left 2 !.meas IL_ripple(%) param (IL_max-IL_min)/IL*100
TEXT 1312 72 Left 2 !.param fs=36.6k
TEXT 1312 48 Left 2 !.param LC1=0 cap1=112u ind=283.16u
TEXT 1312 584 Left 2 !.meas P_c avg I(Esr)*I(Esr)*RC1
